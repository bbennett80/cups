<!doctype html>
<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

<div class="main">
  <svg width="218" height="227" viewBox="0 0 218 227" xmlns="http://www.w3.org/2000/svg">
  <path d="M175 1H42L1 226H217L175 1Z" />
  </svg>
  <p class="green">
    Green - I am comfortable with my understanding and pacing of the lesson
  </p>
  <p class="yellow">
    Yellow - I am working through my understanding, I would benefit from the teacher slowing down or revisiting the current concept
  </p>
  <p class="red">
    Red - STOP! I am not understanding and I have a question
  </p>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
  $(document).ready(function() {
    var socket = io();
    var path = $("path");
    socket.emit('new_student');

    $("p").click(function() {
      var new_color = this.className;
      var old_color = path.attr('class') || 'grey'
      path.removeClass();
      path.addClass(new_color);
      socket.emit('color_change', {old_color: old_color, new_color: new_color});
      }
    )

    // reset client state upon connection
    // (to handle server restarts)
    socket.on('connect', function() {
      path.removeClass();
    });
  });
</script>
